# Benchmark å‘å¸ƒæµç¨‹è¯¦è§£

## ğŸ“Š æ•´ä½“æµç¨‹å›¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  Benchmark å‘å¸ƒæµç¨‹                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

å¼€å‘è€…æœ¬åœ°
    â”‚
    â”‚ ä¿®æ”¹äº† SDK æˆ– CLI ä»£ç 
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ bun run publish:benchmarkâ”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚
    â”œâ”€ Step 1: ç”Ÿæˆç‰ˆæœ¬å·
    â”‚  â””â”€ 0.1.0-canary.202602271430
    â”‚
    â”œâ”€ Step 2: æ›´æ–° SDK package.json
    â”‚  â””â”€ version: 0.1.0-canary.202602271430
    â”‚
    â”œâ”€ Step 3: è¿è¡Œ SDK æµ‹è¯•
    â”‚  â””â”€ bun test
    â”‚
    â”œâ”€ Step 4: æ„å»º SDK
    â”‚  â””â”€ bun run build
    â”‚
    â”œâ”€ Step 5: å‘å¸ƒ SDK åˆ° npm
    â”‚  â””â”€ npm publish --tag canary
    â”‚
    â”œâ”€ Step 6: ç­‰å¾… npm ç´¢å¼• (30-60ç§’)
    â”‚  â””â”€ è½®è¯¢æ£€æŸ¥åŒ…æ˜¯å¦å¯ç”¨
    â”‚
    â”œâ”€ Step 7: æ›´æ–° CLI package.json
    â”‚  â”œâ”€ version: 0.1.0-canary.202602271430
    â”‚  â””â”€ dependencies: { "open-agent-sdk": "0.1.0-canary.202602271430" }
    â”‚
    â”œâ”€ Step 8: å‘å¸ƒ CLI åˆ° npm
    â”‚  â””â”€ npm publish --tag canary
    â”‚
    â””â”€ Step 9: è¾“å‡ºå®‰è£…å‘½ä»¤
       â””â”€ npm install -g @open-agent-sdk/cli@0.1.0-canary.202602271430
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ åœ¨ Daytona ä¸Šå®‰è£…        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ è¿è¡Œ benchmark æµ‹è¯•      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ”„ åœºæ™¯åˆ†æ

### åœºæ™¯ 1: åªä¿®æ”¹äº† SDK

```
ä¿®æ”¹å‰:
    SDK: 0.1.0-alpha.1 (npm ä¸Šçš„ç‰ˆæœ¬)
    CLI: 0.1.0-alpha.1 (npm ä¸Šçš„ç‰ˆæœ¬ï¼Œä¾èµ– SDK ^0.1.0-alpha.1)

ä¿®æ”¹ SDK ä»£ç  (ä¿®å¤ bug)
    â”‚
    â–¼
è¿è¡Œ bun run publish:benchmark
    â”‚
    â”œâ”€ SDK: 0.1.0-canary.202602271430 (æ–°ç‰ˆæœ¬)
    â””â”€ CLI: 0.1.0-canary.202602271430 (æ–°ç‰ˆæœ¬ï¼Œä¾èµ– SDK 0.1.0-canary.202602271430)

ç»“æœ:
    âœ… SDK ä½¿ç”¨æœ€æ–°ä»£ç 
    âœ… CLI ä¾èµ–æœ€æ–° SDK
    âœ… åœ¨ Daytona ä¸Šå®‰è£… CLI ä¼šè‡ªåŠ¨åŒ…å«æœ€æ–° SDK
```

### åœºæ™¯ 2: åªä¿®æ”¹äº† CLI

```
ä¿®æ”¹å‰:
    SDK: 0.1.0-alpha.1 (npm ä¸Šçš„ç‰ˆæœ¬)
    CLI: 0.1.0-alpha.1 (npm ä¸Šçš„ç‰ˆæœ¬)

ä¿®æ”¹ CLI ä»£ç  (æ·»åŠ æ–°åŠŸèƒ½)
    â”‚
    â–¼
è¿è¡Œ bun run publish:benchmark
    â”‚
    â”œâ”€ SDK: 0.1.0-canary.202602271430 (é‡æ–°å‘å¸ƒï¼Œä»£ç æœªå˜)
    â””â”€ CLI: 0.1.0-canary.202602271430 (æ–°ç‰ˆæœ¬ï¼ŒåŒ…å«æ–°åŠŸèƒ½)

ç»“æœ:
    âœ… CLI ä½¿ç”¨æœ€æ–°ä»£ç 
    âœ… SDK ä¹Ÿä¼šé‡æ–°å‘å¸ƒ (ç¡®ä¿ç‰ˆæœ¬ä¸€è‡´)
```

### åœºæ™¯ 3: åŒæ—¶ä¿®æ”¹äº† SDK å’Œ CLI

```
ä¿®æ”¹å‰:
    SDK: 0.1.0-alpha.1
    CLI: 0.1.0-alpha.1

ä¿®æ”¹ SDK å’Œ CLI ä»£ç 
    â”‚
    â–¼
è¿è¡Œ bun run publish:benchmark
    â”‚
    â”œâ”€ SDK: 0.1.0-canary.202602271430 (åŒ…å«æœ€æ–° SDK ä»£ç )
    â””â”€ CLI: 0.1.0-canary.202602271430 (åŒ…å«æœ€æ–° CLI ä»£ç ï¼Œä¾èµ–æœ€æ–° SDK)

ç»“æœ:
    âœ… ä¸¤è€…éƒ½ä½¿ç”¨æœ€æ–°ä»£ç 
```

## â±ï¸ æ—¶é—´çº¿

```
t=0s     â”‚ å¼€å‘è€…è¿è¡Œ bun run publish:benchmark
         â”‚
t=5s     â”‚ ç”Ÿæˆç‰ˆæœ¬å· + æ›´æ–° SDK package.json
         â”‚
t=10s    â”‚ è¿è¡Œ SDK æµ‹è¯•
         â”‚
t=30s    â”‚ æ„å»º SDK
         â”‚
t=35s    â”‚ å‘å¸ƒ SDK åˆ° npm
         â”‚
t=40s    â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚ â”‚ ç­‰å¾… npm ç´¢å¼•...                â”‚
         â”‚ â”‚ (è½®è¯¢æ£€æŸ¥ï¼Œæœ€å¤š 100 ç§’)         â”‚
         â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
t=70s    â”‚ âœ… SDK å¯ç”¨
         â”‚
t=75s    â”‚ æ›´æ–° CLI package.json + å‘å¸ƒ CLI
         â”‚
t=80s    â”‚ âœ… å‘å¸ƒå®Œæˆ
         â”‚
æ€»è€—æ—¶: çº¦ 80 ç§’ (1 åˆ† 20 ç§’)
```

## ğŸ¯ å…³é”®è®¾è®¡ç‚¹

### 1. Canary ç‰ˆæœ¬å·

```
æ ¼å¼: {base-version}-canary.{timestamp}

ç¤ºä¾‹:
    0.1.0-canary.202602271430
    â”‚â”‚â”‚â”‚â”‚         â”‚â”‚â”‚â”‚â”‚â”‚â”‚â”‚â”‚â”‚â”‚
    â”‚â”‚â”‚â”‚â”‚         â”‚â”‚â”‚â”‚â”‚â”‚â”‚â”‚â”‚â””â””â”€ åˆ†é’Ÿ (30)
    â”‚â”‚â”‚â”‚â”‚         â”‚â”‚â”‚â”‚â”‚â”‚â”‚â””â””â”€â”€â”€ å°æ—¶ (14)
    â”‚â”‚â”‚â”‚â”‚         â”‚â”‚â”‚â”‚â”‚â””â””â”€â”€â”€â”€â”€ æ—¥æœŸ (27)
    â”‚â”‚â”‚â”‚â”‚         â”‚â”‚â”‚â””â””â”€â”€â”€â”€â”€â”€â”€ æœˆä»½ (02)
    â”‚â”‚â”‚â”‚â”‚         â””â””â””â”€â”€â”€â”€â”€â”€â”€â”€â”€ å¹´ä»½ (2026)
    â””â””â””â””â””â”€ åŸºç¡€ç‰ˆæœ¬ (0.1.0)

ä¼˜ç‚¹:
    âœ“ ä¸å½±å“æ­£å¼ç‰ˆæœ¬
    âœ“ æ—¶é—´æˆ³ç¡®ä¿å”¯ä¸€æ€§
    âœ“ å¯è¿½æº¯åˆ°å…·ä½“å‘å¸ƒæ—¶é—´
    âœ“ åŒä¸€åˆ†é’Ÿåªèƒ½å‘å¸ƒä¸€æ¬¡ (é¿å…å†²çª)
```

### 2. ç‰ˆæœ¬åŒæ­¥

```
SDK å’Œ CLI ä½¿ç”¨ç›¸åŒçš„ canary ç‰ˆæœ¬å·

åŸå› :
    âœ“ ç®€åŒ–ç®¡ç†
    âœ“ ç¡®ä¿ç‰ˆæœ¬å¯¹åº”å…³ç³»æ¸…æ™°
    âœ“ æ–¹ä¾¿è¿½æº¯é—®é¢˜

ç¤ºä¾‹:
    open-agent-sdk@0.1.0-canary.202602271430
    @open-agent-sdk/cli@0.1.0-canary.202602271430
```

### 3. npm æ ‡ç­¾ (Tag)

```
ä½¿ç”¨ --tag canary å‘å¸ƒ

ç»“æœ:
    npm install @open-agent-sdk/cli          # å®‰è£… latest (0.1.0-alpha.1)
    npm install @open-agent-sdk/cli@canary   # å®‰è£…æœ€æ–° canary
    npm install @open-agent-sdk/cli@0.1.0-canary.202602271430  # å®‰è£…ç‰¹å®šç‰ˆæœ¬

ä¼˜ç‚¹:
    âœ“ canary ç‰ˆæœ¬ä¸ä¼šæˆä¸º latest
    âœ“ ä¸å½±å“æ™®é€šç”¨æˆ·
    âœ“ æµ‹è¯•ç”¨æˆ·å¯ä»¥æ˜ç¡®é€‰æ‹© canary
```

### 4. ä¾èµ–æ›´æ–°æœºåˆ¶

```
CLI çš„ package.json:

å‘å¸ƒå‰:
    {
      "version": "0.1.0-alpha.1",
      "dependencies": {
        "open-agent-sdk": "^0.1.0-alpha.1"
      }
    }

å‘å¸ƒå:
    {
      "version": "0.1.0-canary.202602271430",
      "dependencies": {
        "open-agent-sdk": "0.1.0-canary.202602271430"  â† ç²¾ç¡®ç‰ˆæœ¬ï¼Œæ—  ^
      }
    }

åŸå› :
    âœ“ ç¡®ä¿ CLI ä½¿ç”¨ç‰¹å®šç‰ˆæœ¬çš„ SDK
    âœ“ é¿å…ç‰ˆæœ¬æ¼‚ç§»
```

## ğŸ” ä¸å…¶ä»–æ–¹æ¡ˆå¯¹æ¯”

### æ–¹æ¡ˆ A: æ‰‹åŠ¨å‘å¸ƒ (å½“å‰æ–¹æ¡ˆ)

```
ä¼˜ç‚¹:
    âœ“ ç®€å•ç›´æ¥
    âœ“ ä¸€ä¸ªå‘½ä»¤å®Œæˆ
    âœ“ æ— éœ€é…ç½® CI/CD
    âœ“ é€‚åˆå¿«é€Ÿè¿­ä»£

ç¼ºç‚¹:
    âœ— éœ€è¦æœ¬åœ° npm è®¤è¯
    âœ— package.json ä¼šè¢«ä¿®æ”¹
```

### æ–¹æ¡ˆ B: GitHub Actions è‡ªåŠ¨å‘å¸ƒ

```
ä¼˜ç‚¹:
    âœ“ å®Œå…¨è‡ªåŠ¨åŒ–
    âœ“ ä¸ä¿®æ”¹æœ¬åœ°æ–‡ä»¶
    âœ“ ç»Ÿä¸€çš„å‘å¸ƒç¯å¢ƒ

ç¼ºç‚¹:
    âœ— éœ€è¦é…ç½® CI/CD
    âœ— éœ€è¦ GitHub Secrets
    âœ— å‘å¸ƒé€Ÿåº¦è¾ƒæ…¢ (éœ€è¦ç­‰å¾… CI)
    âœ— è°ƒè¯•å›°éš¾
```

### æ–¹æ¡ˆ C: Lerna/Changesets

```
ä¼˜ç‚¹:
    âœ“ ä¸“ä¸šçš„ monorepo å·¥å…·
    âœ“ è‡ªåŠ¨ç®¡ç†ç‰ˆæœ¬
    âœ“ ç”Ÿæˆ CHANGELOG

ç¼ºç‚¹:
    âœ— é…ç½®å¤æ‚
    âœ— å­¦ä¹ æˆæœ¬é«˜
    âœ— å¯¹ canary ç‰ˆæœ¬æ”¯æŒä¸å¤Ÿçµæ´»
```

## ğŸ’¡ æœ€ä½³å®è·µ

### 1. å‘å¸ƒå‰æ£€æŸ¥

```bash
# ç¡®ä¿åœ¨æ­£ç¡®çš„åˆ†æ”¯
git branch --show-current

# ç¡®ä¿ä»£ç å·²æäº¤
git status

# ç¡®ä¿æµ‹è¯•é€šè¿‡
bun test

# ç¡®ä¿å·²ç™»å½• npm
npm whoami
```

### 2. å‘å¸ƒåéªŒè¯

```bash
# æ£€æŸ¥ SDK ç‰ˆæœ¬
npm view open-agent-sdk@canary version

# æ£€æŸ¥ CLI ç‰ˆæœ¬
npm view @open-agent-sdk/cli@canary version

# æ£€æŸ¥ CLI ä¾èµ–
npm view @open-agent-sdk/cli@canary dependencies
```

### 3. æ¸…ç†å·¥ä½œ

```bash
# è¿˜åŸ package.json
git checkout packages/*/package.json

# æˆ–æäº¤æ›´æ”¹
git add packages/*/package.json
git commit -m "chore: bump to canary for benchmark"
```

## ğŸ› å¸¸è§é—®é¢˜

### Q1: ä¸ºä»€ä¹ˆè¦ç­‰å¾… npm ç´¢å¼•ï¼Ÿ

**A**: npm å‘å¸ƒåéœ€è¦æ—¶é—´ç´¢å¼•ï¼Œå¦‚æœç«‹å³å‘å¸ƒ CLIï¼Œå¯èƒ½æ‰¾ä¸åˆ°åˆšå‘å¸ƒçš„ SDKã€‚

### Q2: å¯ä»¥è·³è¿‡æµ‹è¯•å—ï¼Ÿ

**A**: ä¸å»ºè®®ã€‚æµ‹è¯•å¤±è´¥è¯´æ˜ä»£ç æœ‰é—®é¢˜ï¼Œå‘å¸ƒåä¼šå½±å“ benchmark ç»“æœã€‚

### Q3: canary ç‰ˆæœ¬ä¼šç´¯ç§¯å—ï¼Ÿ

**A**: ä¼šçš„ã€‚å»ºè®®å®šæœŸæ¸…ç†æ—§ç‰ˆæœ¬ï¼š
```bash
npm deprecate open-agent-sdk@0.1.0-canary.202602271430 "Old canary"
```

### Q4: å¦‚ä½•å›æ»šåˆ°ä¹‹å‰çš„ç‰ˆæœ¬ï¼Ÿ

**A**: å®‰è£…ç‰¹å®šçš„ canary ç‰ˆæœ¬ï¼š
```bash
npm install -g @open-agent-sdk/cli@0.1.0-canary.202602271430
```

## ğŸ“š ç›¸å…³æ–‡æ¡£

- [BENCHMARK-PUBLISHING.md](./BENCHMARK-PUBLISHING.md) - å®Œæ•´ä½¿ç”¨æŒ‡å—
- [QUICK-PUBLISH.md](./QUICK-PUBLISH.md) - å¿«é€Ÿå‚è€ƒ
